<div id="fundDetails" class="flex justify-between w-full">
    {{> 'partials/fundDetailsFilters' }}
    <div class="flex flex-col flex-grow">
        <div class="flex flex-col p-4">
            {{> 'partials/fundInformation' }}
        </div>
        <div class="flex flex-col p-4">
            {{> 'partials/sectorWeightings' }}
        </div>
        <ul class="bg-gray-300 p-4">
            {{> 'partials/holdingList' }}
        </ul>
    </div>
</div>

<script>
    document.getElementById('fundDetails').addEventListener('htmx:configRequest', function (evt) {
        if (evt.detail.path === "/filter-holdings"){
            document.getElementById('sector-select').value = evt.srcElement.children[0].innerHTML;
            const queryString = window.location.search;
            const urlParams = new URLSearchParams(queryString);
            evt.detail.parameters['FundId'] = urlParams.get('fundId');
            evt.detail.parameters['SectorName'] = document.getElementById("sector-select").value;
        }
    });
</script>